function g(o,e,t,f,a,r,l,u){var s=typeof o=="function"?o.options:o;e&&(s.render=e,s.staticRenderFns=t,s._compiled=!0),f&&(s.functional=!0),r&&(s._scopeId="data-v-"+r);var i;if(l?(i=function(n){n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!n&&typeof __VUE_SSR_CONTEXT__<"u"&&(n=__VUE_SSR_CONTEXT__),a&&a.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(l)},s._ssrRegister=i):a&&(i=u?function(){a.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:a),i)if(s.functional){s._injectStyles=i;var _=s.render;s.render=function(p,c){return i.call(c),_(p,c)}}else{var d=s.beforeCreate;s.beforeCreate=d?[].concat(d,i):[i]}return{exports:o,options:s}}const h={props:{hasConfig:{type:Boolean,required:!0}},data(){return{loading:!1,message:"",success:!1,configRoute:Statamic.$config.get("routes.ploi-deployer.config.index")}},methods:{deploy(){this.loading=!0,this.message="",this.$axios.post(cp_url("ploi-deployer/deploy")).then(o=>{this.success=!0,this.message=o.data.message}).catch(o=>{var e,t;this.success=!1,this.message=((t=(e=o.response)==null?void 0:e.data)==null?void 0:t.message)||"An error occurred during deployment."}).finally(()=>{this.loading=!1})}}};var m=function(){var e=this,t=e._self._c;return t("div",[e.hasConfig?e._e():t("div",{staticClass:"text-sm text-red-500 mb-2"},[e._v(" Please configure your Ploi API settings first. "),t("a",{staticClass:"text-blue-500 hover:text-blue-700",attrs:{href:e.configRoute}},[e._v("Configure now")])]),t("button",{staticClass:"btn-primary",attrs:{disabled:e.loading||!e.hasConfig},on:{click:e.deploy}},[e.loading?t("span",[e._v("Deploying...")]):t("span",[e._v("Deploy to Production")])]),e.message?t("div",{staticClass:"mt-2",class:{"text-green-500":e.success,"text-red-500":!e.success}},[e._v(" "+e._s(e.message)+" ")]):e._e()])},v=[],C=g(h,m,v,!1,null,null,null,null);const y=C.exports;Statamic.$components.register("ploi-deployer-component",y);
